<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-list/iron-list.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../charon-services/users.html">
<link rel="import" href="../../styles/shared-styles.html">

<dom-module id="charon-ui-user">
  <style is="custom-style" include="shared-styles"></style>
  <template>
    <div>
      <p><b>Username: </b>[[user.username]]</p>
      <p><b>Email: </b>[[user.email]]</p>
      <p>
        <paper-button raised on-click="createPassword">Create new password</paper-button>
        <paper-icon-button icon="delete" on-click="deleteUser"></paper-icon-button>
      </p>
    </div>
  </template>
  <script>
    (function() {
      'use strict';

      var CharonUiUser = Polymer.Class({
        is: 'charon-ui-user',

        /**
         * Authorization token manager
         */
        _service: null,

        properties: {
          user: {
            type: 'Object',
            value: {}
          }
        },

        ready: function() {
          this._service = document.createElement('charon-service-users');
        },

        deleteUser: function() {
          this._service.deleteUser(this.user.id);
        },

        createPassword: function() {
          this._service.createPassword(this.user.id, {});
        }
      });

      document.registerElement('charon-ui-user', CharonUiUser);
    })();
  </script>
</dom-module>
